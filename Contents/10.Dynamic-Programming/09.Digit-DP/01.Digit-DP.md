## 1. 数位 DP 简介

### 1.1 数位 DP 简介

> **数位动态规划**：简称为「数位 DP」，是一种与数位相关的一类计数类动态规划问题，即在数位上进行动态规划。这里的数位指的是个位、十位、百位、千位等。

数位 DP 一般用于求解给定区间 $[left, right]$ 中，满足特定条件的数值个数，或者用于求解满足特定条件的第 $k$ 小数。

数位 DP 通常有以下几个特征：

1. 题目中给定区间往往很大（比如 $10^9$），无法采用朴素的方法求解。
2. 题目中给定的给定的限定条件往往与数位有关。
3. 要求统计满足特定条件的数值个数，或者用于求解满足特定条件的第 $k$ 小数。

题目要求一段区间 $[left, right]$ 内满足特定条件的数值个数，如果能找到方法计算出前缀区间 $[0, n]$ 内满足特定条件的数值个数，那么我们就可以利用「前缀和思想」，分别计算出区间 $[0, left - 1]$ 与区间 $[0, right]$ 内满足特定条件的数值个数，然后将两者相减即为所求答案。

$res[left, right] = res[0, right] - res[0, left - 1]$

在使用「前缀和思想」思想后，问题转换为计算区间 $[0, n]$ 内所有整数的各个位数之和。

接下来就要用到数位 DP 的思想。

> **数位 DP 的基本思想**：将区间数字拆分为数位，然后逐位进行确定。

数位 DP 可以通过「记忆化搜索」的方式实现，也可以通过「迭代递推」的方式实现。这里我们采用「记忆化搜索」的方式来实现。

在使用「记忆化搜索」的时候，需要考虑的参数有：

1. 当前枚举的数位位置（$pos$）。
2. 前一位数位（或前几位数位）的情况（$state$），比如前几位所选数字集合（通常使用「状态压缩」的方式，即用一个二进制整数来表示）、前几位的总和、某个数字出现次数等等。
3. 前一位数位（或前几位数位）是否等于上界的前几位数字（$isLimit$），用于限制本次搜索的数位范围。
4. 前一位数位是否填了数字（$isNum$），如果前一位数位填了数字，则当前位可以从 $0$ 开始填写数字；如果前一位没有填写数字，则当前位可以跳过，或者从 $1$ 开始填写数字。
5. 当前位数位所能选择的最小数字（$minX$）和所能选择的最大数字（$maxX$）。

将上述参数转换为代码，如下：

```Python

```

接下来，我们通过一道简单的例题来具体了解一下数位 DP 以及解题思路。

### 1.2 数位之和

#### 1.2.1 题目大意

**描述**：给定两个整数 $x$ 和 $y$，代表区间 $[x, y]$。

**要求**：求区间 $[x, y]$ 内所有整数的各个数位之和。

**说明**：

- $1 \le x \le 10^{15}$。

**示例**：

- 示例 1：

```Python
```

- 示例 2：

```Python
```

#### 1.2.2 解题思路

对于区间 $[x, y]$，如果能找到方法计算出前缀区间 $[0, n]$ 内所有整数的各个数位之和，那么我们就能分别计算出区间 $[0, x - 1]$ 与区间 $[0, y]$ 内所有整数的各个数位之和，然后将两者相减即为答案。因此，问题转换为计算区间 $[0, n]$ 内所有整数的各个位数之和。



## 2. 数位 DP 的应用