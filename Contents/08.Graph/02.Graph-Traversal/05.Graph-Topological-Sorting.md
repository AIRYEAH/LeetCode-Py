## 1. 拓扑排序简介

> **拓扑排序（**Topological Sorting**）**：一种对有向无环图（DAG）的所有顶点进行线性排序的方法，使得图中任意一点 $u$ 和 $v$，如果存在有向边 $<u, v>$，则 $u$ 必须在 $v$ 之前出现。对有向图进行拓扑排序产生的线性序列称为满足拓扑次序的序列，简称拓扑排序。

图的拓扑排序是针对有向无环图（DAG）来说的，无向图和有向有环图没有拓扑排序，或者说不存在拓扑排序。

![](https://qcdn.itcharge.cn/images/20230504153551.png)

如上图中的有向无环图（DAG）所示，$v_1 \rightarrow v_2 \rightarrow v_3 \rightarrow v_4 \rightarrow v_5 \rightarrow v_6$ 是该图的一个拓扑序列。与此同时，$v_1 \rightarrow v_2 \rightarrow v_3 \rightarrow v_4 \rightarrow v_6 \rightarrow v_5$ 也是该图的一个拓扑序列。也就是说，对于一个有向无环图来说，拓扑序列可能不止一个。

## 2. 拓扑排序的实现方法

拓扑排序有两种实现方法，分别是 Kahn 算法和 DFS 深度优先搜索算法。接下来我们依次来看下它们是如何实现的。

### 2.1 Kahn 算法

#### 2.1.1 Kahn 算法的实现步骤

1. 使用数组 $indegrees$ 用于记录图中各个顶点的入度。
2. 维护一个入度为 $0$ 的顶点集合 $S$（可使用栈、队列、优先队列）。
3. 每次从集合中选择任何一个没有前驱（即入度为 $0$）的顶点 $u$，将其输出到拓扑序列 $order$ 中。
4. 从图中删除该顶点 $u$，并且删除从该顶点出发的有向边 $<u, v>$（也就是把该顶点可达的顶点入度都减 $1$）。如果删除该边后顶点 $v$ 的入度变为 $0$，则将顶点 $v$ 放入集合 $S$ 中。
5. 重复上述过程，直到集合 $S$ 为空。
6. 检测图中是否存在任何边，如果有，则该图一定存在环路。否则 $order$ 中顶点的顺序就是拓扑排序的结果。

#### 2.1.2 Kahn 算法的实现代码

```Python

```

### 2.2 DFS 深度优先搜索算法

#### 2.2.1 DFS 深度优先搜索算法实现步骤

1. 以任意顺序循环遍历图中的每个顶点，将其输出到拓扑序列中。
2. 如果搜索时遇到之前已经遇到的顶点，或者碰到叶节点，则中止算法。

#### 2.2.2 DFS 深度优先搜索算法实现代码

```Python

```

## 3. 拓扑排序的应用

拓扑排序可以用来解决一些依赖关系的问题，比如项目的执行顺序，课程的选修顺序等。



